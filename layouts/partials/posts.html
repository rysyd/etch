{{ range (where .Site.RegularPages "Type" "in" (slice "posts")).GroupByDate "2006" }}
<h2>{{ .Key }}</h2>
<ul id="posts">
  {{ range .Pages }}
  {{ .Render "li" }}
  {{- end -}}
</ul>
{{ end }}